checkout:
    post:
        ###################################################################
        # download submodules gtest/gmock and cppunit from original repos #
        ###################################################################
        - git submodule update --init --recursive
dependencies:
    pre:
        ###################################################################
        # installing additional tools to build destination project        #       
        ###################################################################
        # installing cmake 3.x with old cmake 2.x 
        - wget https://cmake.org/files/v3.9/cmake-3.9.0-rc5.tar.gz
        - tar xzvf cmake-3.9.0-rc5.tar.gz
        - cmake ./cmake-3.9.0-rc5/
        - sudo make      
        - sudo make install
        - rm -r CMakeCache.txt CMakeFiles        
        # installing autoconf
        - sudo apt-get update
        - sudo apt-get install autoconf
        # installing autotools
        - sudo apt-get install autotools-dev

compile:
    override:
        - cmake ./module1
        - mkdir out
        - sudo make
        - sudo make install DESTDIR=${PWD}/out 
        - export LD_LIBRARY_PATH=${PWD}/out/usr/local/lib/

test:
    override:
        - echo ${LD_LIBRARY_PATH}
        - ./out/usr/local/bin/timeKeeper_test1
